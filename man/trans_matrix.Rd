% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transition_functions..R
\name{trans_matrix}
\alias{trans_matrix}
\title{Create an HTML-formatted transition matrix of before→after ratings}
\usage{
trans_matrix(
  df,
  test = NULL,
  subgroup = NULL,
  pre_col = "rating_pre",
  post_col = "rating_post",
  pre_label = NULL,
  post_label = NULL,
  return_df = FALSE,
  table_title = NULL,
  table_subtitle = NULL
)
}
\arguments{
\item{df}{A data frame containing at least the columns indicated by \code{pre_col} and \code{post_col}, plus \code{test} and \code{sub}.}

\item{test}{Optional string. If non-NULL, only rows with \code{test == test} are used.}

\item{subgroup}{Optional string. If non-NULL, only rows with \code{sub == subgroup} are used.}

\item{pre_col}{Name of the "before" rating column (ordered factor). Default \code{"rating_pre"}.}

\item{post_col}{Name of the "after"  rating column (ordered factor). Default \code{"rating_post"}.}

\item{pre_label}{Label for the first (row) header. Default \code{NULL} → falls back to \code{pre_col}.}

\item{post_label}{Label for the top header spanning rating columns. Default \code{NULL} → falls back to \code{post_col}.}

\item{return_df}{Logical; if \code{TRUE}, returns the raw transition data frame instead of rendering an HTML table. Default \code{FALSE}.}

\item{table_title}{Optional string; if non-NULL, used verbatim as the table caption. Default \code{NULL} → auto–generated.}

\item{table_subtitle}{Optional string; if non-NULL, rendered under the title in smaller text.}
}
\value{
If \code{return_df=FALSE}: an HTML \code{kable} of the colored transition matrix with custom labels and subtitle.
If \code{return_df=TRUE}: a plain \code{data.frame} of counts with first column named as \code{pre_label}.
}
\description{
Create an HTML-formatted transition matrix of before→after ratings
}
